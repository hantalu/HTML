<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta charset="utf-8">
<title>Untitled Document</title>
<link href="../Css/Subpages.css" rel="stylesheet" type="text/css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.0/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.0/css/froala_style.min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../Js/jquery-3.2.1.js"></script>
<script type="text/javascript" src="../Js/script-cp.js"></script>

 
  


<!--<img class="Img" src="../Imgs/Flow/[Mulan] Game Flow1.png" onerror="this.src='../Imgs/Source Img/fallback-img-2.png'"/>-->


</head>

<body>
		<!--POP UP - start-->
    <div class="popup-wrapper-wrapper">
        <div class="Pop-up-wrapper" id="Pop-up-wrapper0">
            <div class="close-button" onclick="Closepopup('0')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3">
                <p class="Pop-up-title">Please name the new Section</p>
                <textarea class="new-h3-name" id="textareanewsection"></textarea>
                <!--<textarea class="new-h3-name"></textarea>-->
                <button onclick="nameh3('0')" id="Confirmnewsection">Confirm</button>
            </div>
        </div>
        
        <div class="Pop-up-wrapper" id="Pop-up-wrapper1">
            <div class="close-button" onclick="Closepopup('1')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3">
                <p class="Pop-up-title">Please input the No. of section you want to delete</p>
                <textarea class="new-h3-name"></textarea>
                <button onclick="deleteh3('1')">Confirm</button>
            </div>
        </div>  
        
        <div class="Pop-up-wrapper" id="Pop-up-wrapper2">
            <div class="close-button" onclick="Closepopup('2')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3">
                <p class="Pop-up-title">Please input Img's name on the left (The note on the right is optional)</p>
                <textarea class="new-h3-name" id="textareanewimage"></textarea>
                <textarea class="new-h3-name" id="textareanewimagenote"></textarea>
                <button onclick="addimg(2)" id="Confirmnewimage">Confirm</button>
            </div>
        </div>
        
        <div class="Pop-up-wrapper" id="Pop-up-wrapper3">
            <div class="close-button" onclick="Closepopup('3')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3">
                <p class="Pop-up-title">Please input Game Name</p>
                <textarea class="new-h3-name" id="textareanewgamename"></textarea>
                <button onclick="gamename(3)" id="Confirmnewgamename">Confirm</button>
            </div>
        </div>
        
        <div class="Pop-up-wrapper" id="Pop-up-wrapper4">
            <div class="close-button-1" onclick="Closepopup('4')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3-code">
                <p class="Pop-up-title" style="text-align:center">HTML CODE<p style="text-align:center; font-size:16px; margin-bottom:30px;"><a style="color:#27e1fc !important" target="_blank" href="https://www.freeformatter.com/html-formatter.html">Click here to use Online HTML Formatter</a></p><p style="text-align:center; font-size:16px; margin-bottom:30px;">You are edtting HTML CODE of: <span id="name-of-editting-html" style=" font-weight:700; text-transform:uppercase; font-size:25px"></span><button class="User-guide-btn" id="User-guide-btn-show" onclick="Showblackcover();" >Show User Guide</button><button class="User-guide-btn" id="User-guide-btn-hide" onclick="Hideblackcover();" >Hide User Guide</button></p>
                <!--<textarea class="new-h3-name" id="HTML-code"></textarea>-->
                <div id="HTML-code-cover" style="position:relative" onclick="Hideblackcover();">
                	<div id="HTML-code-cover-2">
                        <div  style="position:absolute; background-color:rgba(0,0,0,0.0); top:0; left:0; width:100%; height:410px; z-index:999; border:solid 1px #06798a; box-sizing:border-box"></div>
                        <div id="cover-text" style="position:absolute; z-index:998; margin:50px 0 0 50px"><p><strong>User guide - REPEAT every steps for each editting: (Must read)</strong><p><strong style="text-decoration:underline">Step 1:</strong> Activate the CODE VIEW of the HTML EDITOR <strong>(&lt/&gt button)</strong></p><p><strong style="text-decoration:underline">Step 2:</strong> Copy ALL the content <strong>HERE</strong> and paste to the HTML EDITOR</p><p><strong style="text-decoration:underline">Step 3:</strong> After finishing editing HTML code, COPY everything in the HTML EDITOR and PASTE to <strong>HERE</strong> (overwrite everything)</p><p><strong style="text-decoration:underline">Step 4:</strong> Press <strong>SAVE HTML</strong> to complete editing!</p><p><strong style="text-decoration:underline">NOTE</strong>: ONLY THE CODE <strong>HERE</strong> IS SAVED!</p></div>
                        <div style="position:absolute; z-index:998; bottom:10px; right:10px; font-size:11px;">*User Guide can be closed on click also</div>
                        <div  style="position:absolute; top:0; left:0; background-color:rgba(0,0,0,0.9); width:100%; height:410px; z-index:997; border:solid 1px #06798a; box-sizing:border-box"></div>
                    </div>
                	<textarea class="new-h3-name" id="HTML-code"></textarea>
                </div>
                
                <textarea class="new-h3-name" id="froala-editor"></textarea>
                <button onclick="SaveHTMLbig('big',4)" id="Confirmnewbightml">Save HTML</button>
            </div>
        </div>
        <div class="Pop-up-wrapper" id="Pop-up-wrapper5">
            <div class="close-button" onclick="Closepopup('5')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3">
                <p class="Pop-up-title">Please input the link of Videos / Audio</p>
                <textarea class="new-h3-name" id="textareanewvideo"></textarea>
                <button onclick="Videotable()" id="Confirmnewvideo">Save</button>
            </div>
        </div>
        <div class="Pop-up-wrapper" id="Pop-up-wrapper6">
            <div class="close-button" onclick="Closepopup('6')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3">
                <p class="Pop-up-title">Choose the saved HTML file to load</p>
                <input type="file" class="upload-button" id="files" name="file" value="" />
				<span class="upload-button" id="readBytesButtons"><button>LOAD SAVED FILE</button></span>

            </div>
        </div>
        <div class="Pop-up-wrapper" id="Pop-up-wrapper7">
            <div class="close-button" onclick="Closepopup('7')"><img src="../Imgs/Source Img/Close-button.png" /></div>
            <div class="Pop-up-name-h3-preview">
                <p class="Pop-up-title">Your FINALIZED FILE should be...</p>
				<div id="Finalized-preview">
                </div>
            </div>
        </div>
        
    </div>  
    
    <!--POP UP - end-->

	<!--Control Panel - start-->
    <div class="CP">
    	<div class="CP-items" onclick="popupnameh3(0,3)">Game<br />Name<br />-----<br />Alt 1</div>
    	<div class="CP-items" onclick="popupnameh3(0,0)">Add<br />Section<br />-----<br />Alt 2</div>
        <div class="CP-items" onclick="popupnameh3(0,1)">Delete<br />Section<br />-----<br />Alt 3</div>
        <div class="CP-items" onclick="popuphtmlh3('big',4,'Whole Document')">Edit<br />HTML<br />-----<br />Alt 4</div>
        <div class="CP-items" onclick="popupnameh3(0,6)">LOAD<br />HTML<br />-----<br />Alt 5</div>
        <div class="CP-items-save" onclick="download()">Save<br />-----<br />Alt 9</div>
        <div class="CP-items" onclick="popuppreview(0,7)">PREVIEW<br />FINALIZED<br />HTML</div>
        <div class="CP-items-save" onclick="download2()">Finalize<br />-----<br />Alt 0</div>
    </div>
    <!--Control Panel - end-->
    
    <div class="Theme">
    	<div class="Theme-items" onclick="Darktheme();">Dark Theme</div>
        <div class="Theme-items" onclick="Lighttheme();">Light Theme</div>
    </div>
    
    <a href="" id="temp-memory-ahref-1"><span id="tag-2-active" onclick="return confirm('Your UNSAVED working process will be deleted, do you want to continue?');"><div id="Game-logo-2"><img src="../Imgs/Game logo/Demo-logo.png" onerror="this.src='../Imgs/Game logo/Demo-logo.png'" /></div><div id="Game-name-tag"></div></span></a>
   
       
            
<div class="wrapper" id="main">
<div class="hide-all-h3-content" onclick="Hideall();">HIDE<br /> ALL</div>
	   
    <div class="temp-memory">
        	<span id="temp-memory-ahref-2"></span>
            <span id="temp-memory-logo">Demo</span>
            <span id="temp-memory-name">Game Name</span>
            <span id="temp-memory-name-h2">Please create new game name</span>
    </div>

    <span id="Game-name-h2"></span>
    <span class="content">
    
    
    </span>
 
</div>


<script type="text/javascript">
function addTagSel(tag, idelm) {
  var tag_type = new Array('<', '>');     
  var txta = document.getElementById(idelm);
  var start = tag_type[0] + tag + tag_type[1];
  var end = tag_type[0] +'/'+ tag +  tag_type[1];

if (txta.selectionStart || txta.selectionStart == "0") {
    var startPos = txta.selectionStart;
    var endPos = txta.selectionEnd;
    var tag_seltxt = start + txta.value.substring(startPos, endPos) + end;
    txta.value = txta.value.substring(0, startPos) + tag_seltxt + txta.value.substring(endPos, txta.value.length);
    txta.setSelectionRange((endPos+start.length),(endPos+start.length));
    txta.focus();
  }
  return tag_seltxt;
}

function Addbold(x) {
  var tag_seltxt = addTagSel('strong', 'text-area-h3' + x);
};

function Additalic(x) {
  var tag_seltxt = addTagSel('i', 'text-area-h3' + x);
};

function Addunderline(x) {
  var tag_seltxt = addTagSel('u', 'text-area-h3' + x);
};

function Addli(x) {
  var tag_seltxt = addTagSel('li', 'text-area-h3' + x);
};

function Addul(x) {
  var tag_seltxt = addTagSel('ul', 'text-area-h3' + x);
};

function Addh4(x) {
  var tag_seltxt = addTagSel('h4 class="h4"', 'text-area-h3' + x);
};

function Addh5(x) {
  var tag_seltxt = addTagSel('h5 class="h5"', 'text-area-h3' + x);
};
</script>


  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/xml/xml.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/froala-editor/2.6.0//js/froala_editor.pkgd.min.js"></script>




<script>



                    try{Click();
                    Loadgamename();
                    Hideall();
                    Countimgclass();
					}catch(ex){
					
	function readBlob(opt_startByte, opt_stopByte) {

    var files = document.getElementById('files').files;
    if (!files.length) {
      alert('Please select a file!');
      return;
    }

    var file = files[0];
    var start = parseInt(opt_startByte) || 0;
    var stop = parseInt(opt_stopByte) || file.size - 1;

    var reader = new FileReader();

    // If we use onloadend, we need to check the readyState.
    reader.onloadend = function(evt) {
      if (evt.target.readyState == FileReader.DONE) { // DONE == 2
        document.getElementsByClassName('wrapper')[0].innerHTML = evt.target.result;
		Loadgamename();
		$('.Pop-up-wrapper')[6].setAttribute('style','visibility: hidden');
		countwrapper = 0;
      }
    };

    var blob = file.slice(start, stop + 1);
    reader.readAsBinaryString(blob);
  }
  
  document.querySelector('#readBytesButtons').addEventListener('click', function(evt) {
    if (evt.target.tagName.toLowerCase() == 'button') {
      var startByte = evt.target.getAttribute('data-startbyte');
      var endByte = evt.target.getAttribute('data-endbyte');
      readBlob(startByte, endByte);
    }
  }, false);}
  

</script>

<script>
	
	$(document).ready(function(){
	
		
                        $("#textareanewsection").keydown(function(e){
                        if (e.which == 13){
                            $('#Confirmnewsection').click();}
                        });
                        
                        $("#textareanewimage").keydown(function(e){
                       if (e.which == 13){
                            $('#Confirmnewimage').click();}
                        });
                        
                        $("#textareanewimagenote").keydown(function(e){
                        if (e.which == 13){
                            $('#Confirmnewimage').click();}
                        });
                        
                        $("#textareanewgamename").keydown(function(e){
                        if (e.which == 13){
                            $('#Confirmnewgamename').click();}
                        });
                        
                        /*$("#HTML-code").keydown(function(e){
                        if (e.which == 13 && e.altKey){
                            $('#Confirmnewbightml').click();}
                        });*/
                        
                        $("#textareanewvideo").keydown(function(e){
                        if (e.which == 13){
                            $('#Confirmnewvideo').click();}
                        });	
						
						$("body").keydown(function(e){
                        if (e.which == 49 && e.altKey && countwrapper == 0){
                            $('.CP-items')[0].click();
							$('.new-h3-name')[4].focus();}
                        });	
						
						$("body").keydown(function(e){
                        if (e.which == 50 && e.altKey && countwrapper == 0){
                            $('.CP-items')[1].click();
							$('.new-h3-name')[0].focus();}
                        });	
						
						$("body").keydown(function(e){
                        if (e.which == 51 && e.altKey && countwrapper == 0){
                            $('.CP-items')[2].click();
							$('.new-h3-name')[1].focus();}
                        });
						
						$("body").keydown(function(e){
                        if (e.which == 52 && e.altKey && countwrapper == 0){
                            $('.CP-items')[3].click();
							$('.new-h3-name')[4].focus();}
                        });
						
						$("body").keydown(function(e){
                        if (e.which == 53 && e.altKey && countwrapper == 0){
                            $('.CP-items')[4].click();
							$('.new-h3-name')[5].focus();}
                        });
						
						$("body").keydown(function(e){
                        if (e.which == 57 && e.altKey && countwrapper == 0){
                            $('.CP-items-save')[0].click();}
                        });
						
						$("body").keydown(function(e){
                        if (e.which == 48 && e.altKey && countwrapper == 0){
                            $('.CP-items-save')[1].click();}
                        });
						
						$("body").keydown(function(e){
                        if (e.which == 27){
                            $('.close-button').click();}
                        });
                    
                    });

</script>

</body>
</html>
